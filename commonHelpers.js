import{a as y,S as m}from"./assets/vendor-4533621d.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const h="44454765-ee57bdc991fe1fe6c04d7dec5",p="https://pixabay.com/api/",d=async(t,r=1)=>(await y.get(p,{params:{key:h,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,page:r,per_page:15}})).data,u=t=>{const r=document.querySelector(".gallery"),n=t.map(s=>`
    <div class="gallery-item">
      <a href="${s.largeImageURL}">
        <img src="${s.webformatURL}" alt="${s.tags}" loading="lazy"/>
      </a>
    </div>
  `).join("");r.innerHTML+=n},g=()=>{const t=document.querySelector(".gallery");t.innerHTML=""};let a=1,i="";const L=document.querySelector("#search-form"),c=document.querySelector(".load-more"),f=new m(".gallery a");L.addEventListener("submit",async t=>{if(t.preventDefault(),i=t.target.elements.searchQuery.value.trim(),i==="")return;a=1,g(),c.classList.add("is-hidden");const r=await d(i,a);u(r.hits),f.refresh(),r.totalHits>15&&c.classList.remove("is-hidden")});c.addEventListener("click",async()=>{a+=1;const t=await d(i,a);u(t.hits),f.refresh(),(t.hits.length<15||t.totalHits<=a*15)&&(c.classList.add("is-hidden"),alert("We're sorry, but you've reached the end of search results."));const{height:r}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"})});
//# sourceMappingURL=commonHelpers.js.map
